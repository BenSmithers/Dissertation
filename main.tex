\documentclass{book}
\usepackage{subfiles}


%\usepackage[caption=false]{subfig}
\usepackage{graphicx}
\usepackage[justification=RaggedRight]{caption}
\usepackage{subcaption}
\usepackage{bm}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage[utf8]{inputenc}
\usepackage{placeins}
% defines table rules for professional looking tables
\usepackage{booktabs}
\usepackage{gensymb}
\usepackage[colorlinks=true,allcolors=blue]{hyperref}
\usepackage{microtype}
\usepackage{multirow, makecell}
\usepackage{lipsum}
\usepackage[capitalise]{cleveref}
\usepackage{xcite}

\usepackage[utf8]{inputenc}

\usepackage{listings}
\usepackage{siunitx}
%\sisetup{detect-weight=true, detect-family=true}
\sisetup{detect-all = true}
\usepackage{xspace}
\usepackage{comment}
\usepackage{float}
% \usepackage{floatrow}
\usepackage[T5,T1]{fontenc}
\usepackage{footmisc}

\usepackage{ragged2e}

% you shall not pass!
\usepackage{placeins}

\usepackage{tikz}
\usepackage{makeidx}

\usepackage{bm}

\usetikzlibrary{trees}

\tikzstyle{every node}=[draw=black,thick,anchor=west]
\tikzstyle{selected}=[dashed,draw=red,fill=red!30]
\tikzstyle{optional}=[dashed,fill=gray!50]


% \include{tex/units}

\numberwithin{figure}{section}
\numberwithin{table}{section}
\numberwithin{equation}{section}

\lstdefinestyle{mystyle}{basicstyle=\ttfamily,
    breakatwhitespace=false,
    breaklines=true,
    captionpos=b,
    keepspaces=true,
    %numbers=left,
    %numbersep=5pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=4
}
\lstset{style=mystyle}

%https://tex.stackexchange.com/questions/222697/how-to-use-booktab-or-type-this-table-in-revtex4-revtex4-1
\AtBeginDocument{\heavyrulewidth=.08em
\lightrulewidth=.05em
\cmidrulewidth=.03em
\belowrulesep=.65ex
\belowbottomsep=0pt
\aboverulesep=.4ex
\abovetopsep=0pt
\cmidrulesep=\doublerulesep{}
\cmidrulekern=.5em
\defaultaddspace=.5em
}

\newcommand{\as}[1]{\textcolor{Magenta}{{[\bf AS:\@ #1]}}}
\newcommand{\ca}[1]{\textcolor{RoyalBlue}{{[\bf CA:\@ #1]}}}
\newcommand{\ty}[1]{\textcolor{AmericanRose}{{[\bf TY:\@ #1]}}}

\newcommand{\abs}[1]{\left| #1 \right|}


\newcommand{\ttf}{\ttfamily}

\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator*{\argmin}{arg\,min}

\newcommand{\refeq}[1]{Eq.~(\ref{#1})}
\newcommand{\refeqs}[2]{Eqs.~(\ref{#1})~and~(\ref{#2})}
\newcommand{\refeqss}[3]{Eqs.~(\ref{#1}), (\ref{#2})~and~(\ref{#3})}
\newcommand{\reffig}[1]{Figure~\ref{#1}}
\newcommand{\reffigs}[2]{Figures~\ref{#1}~and~\ref{#2}}
\newcommand{\refsec}[1]{Section~\ref{#1}}
\newcommand{\refsecs}[5]{Sections~\ref{#1},~\ref{#2},~\ref{#3},~\ref{#4},~and~\ref{#5}}
\newcommand{\refappsec}[1]{Appendix Section~\ref{#1}}
\newcommand{\refapp}[1]{Appendix~\ref{#1}}
\newcommand{\reftab}[1]{Table~\ref{#1}}
\newcommand{\refref}[1]{Ref.~\cite{#1}}
\newcommand{\refrefs}[2]{Refs.~\cite{#1}~and~\cite{#2}}

\newcommand{\bra}[1]{\left< #1 \right |}
\newcommand{\ket}[1]{\left| #1 \right >}
\newcommand{\braket}[1]{\left< #1 \right>}

\newcommand{\comm}[1]{\left[ #1 \right]}
\newcommand{\cross}{\times}
\newcommand{\bvec}[1]{\bm{#1}}


% Default fixed font does not support bold face
\DeclareFixedFont{\ttb}{T1}{txtt}{bx}{n}{12} % for bold
\DeclareFixedFont{\ttm}{T1}{txtt}{m}{n}{12}  % for normal

% Custom colors
\usepackage{color}
\definecolor{deepblue}{rgb}{0,0,0.5}
\definecolor{deepred}{rgb}{0.6,0,0}
\definecolor{deepgreen}{rgb}{0,0.5,0}

\usepackage{listings}

\makeindex


\begin{document}
\tableofcontents
\chapter{Introduction}
\subfile{introduction.tex}
\subfile{icecube.tex}
\chapter{More Stuff}
\subfile{chapter1.tex}
\subfile{bibfile.tex}
\printindex

\end{document}
